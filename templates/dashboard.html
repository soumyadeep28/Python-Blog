{% extends 'layout.html' %}

{% block content %}
<!-- Page Header-->
<header class="masthead" style="background-image: url('{{ url_for('static' ,filename = 'img/home-bg.jpg')}}' ) ">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>Admin Panel</h1>
                    <span class="subheading">Manage your Posts </span>
                </div>
            </div>
        </div>
    </div>
</header>
        <!-- Main Content-->

        
        <div class="container">
            
        </div>
        <div class="container px-6 px-lg-2">
            <div class="row gx-1 gx-lg-8 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">

                  <h3> Dashboard</h3>
            <h5>Some Basic Options :</h5>
            <a href="/edit/0"><button class="btn btn-primary text-uppercase"> Add New Post </button></a>
            <a href="/logout"><button class="btn btn-primary text-uppercase">Logout</button></a>
            <hr>
                  <p>Upload a file and map the file with the posts</p>
            <form action="/uploader" method="POST" enctype="multipart/form-data">
                <input  type="file" name="file1" id="file">
                <button class="btn btn-primary text-uppercase" type="submit">Upload</button>
            </form>
                    <!-- Post preview-->
                    
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">sno</th>
                            <th scope="col">Title</th>
                            <th scope="col">Content</th>
                            <th scope="col">slug</th>
                            <th scope="col">date</th>
                            <th scope="col">Image </th>
                            <th scope="col">Edit</th>
                            <th scope="col">Delete</th>
                          </tr>
                        </thead>
                        <tbody>
                            {% for post in posts %}
                          <tr>
                            <th scope="row">{{post.sno}}</th>
                            <td>{{post.title}}</td>
                            <td>{{post.content}}</td>
                            <td>{{post.slug}}</td>
                            <td>{{post.date}}</td>
                            <td>{{post.img_file}}</td>
                            <td> <a href="/edit/{{post.sno}}"><button class=" btn "> Edit </button> </a></td>
                            <td> <a href="/delete/{{post.sno}}"></a><Button class="btn  "> Delete </Button> </a> </td>
                          </tr>
                          {% endfor %}
                          
                        </tbody>
                      </table>
                    
            
                    
                    <!-- Pager-->
                    <div class="d-flex justify-content-end mb-4"><a class="btn btn-primary text-uppercase" href="#!">Older Posts â†’</a></div>
                </div>
            </div>
        </div>
        <!-- Footer-->
        

{% endblock %}